# 用故事讲 RAG Examples（通俗版）

## 一家“知识小馆”的故事
有一家小馆子，老板请来一位“聪明服务员”，可以回答顾客的问题。但服务员记性一般，需要随时翻“馆内资料”。于是老板搭建了一套“查资料 + 回答”的流程，这就是 RAG。

### 第一章：一键便利店（Easy RAG）
老板说：“太麻烦了，能不能按个按钮就能用？”
于是有了 Easy RAG：把资料丢进去，系统自动切分、做向量、检索、拼答案。
- 适合快速启动，省心。

### 第二章：自己动手做（Naive RAG）
老板想了解流程，于是一步步做：
1. 把资料读进来
2. 切成小段
3. 向量化
4. 存进向量库
5. 搜到最像的问题片段
6. 拼到提示里给模型回答
- 这样虽然麻烦，但最清楚原理。

### 第三章：顾客总爱追问（查询压缩）
顾客问：“他什么时候出生？”但前面说的是谁？
系统学会“把上下文压缩成完整问题”，再去检索。
- 结果：回答更准。

### 第四章：资料分仓（查询路由）
店里有“人物传记”和“租车条款”两个柜子。
系统要先判断问题属于哪个柜子，再去找。
- 这样更快也更省成本。

### 第五章：先多找，再挑精（重排序）
系统先粗略找 5 条，再用更强模型重新打分，留下真正相关的。
- 回答更靠谱，减少“胡说”。

### 第六章：贴标签的小贴纸（元数据）
每段资料都有标签，比如文件名、段落编号。
系统可以把这些标签放进提示里，让回答带“出处”。
- 方便追溯。

### 第七章：只看自己的资料（元数据过滤）
不同顾客只能查自己的资料。
系统会用过滤器把无关信息排除。
- 避免越权、提高相关度。

### 第八章：这问题不用查（跳过检索）
顾客说：“你好”。
系统判断这种问题不需要检索，就直接回答。
- 省资源、减少无谓调用。

### 第九章：多柜子同时找（多检索器）
有些问题可能跨资料库，系统就同时查多个柜子。
- 覆盖更全。

### 第十章：去外面问一下（Web 搜索）
馆内资料不够时，系统会去网上搜索，再把结果带回来。
- 更接近真实世界的知识。

### 第十一章：把证据拿出来（返回来源）
回答时，系统会把“用了哪些资料片段”一并展示。
- 更透明，更可信。

### 第十二章：翻数据库（SQL 检索器）
系统还能把问题翻译成 SQL，去数据库里查。
但老板提醒：这很危险，必须只读、权限极低。
- 强大但要小心。

## 这套故事告诉你什么
- RAG 不只是“查资料 + 回答”，还有很多升级打法。
- 从 Easy 到 Advanced，每一步都解决真实问题：多来源、上下文、可靠性与成本。
- 这些例子就是一套“从入门到进阶”的实践地图。
